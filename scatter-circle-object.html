<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3.js - Data Driven Documents - circle with different data</title>
</head>
<body>
    
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script> -->

    <script>
        let svg = d3.select("body").append("svg")
            .attr("width", 250)
            .attr("height", 250);

        // below function will work with d3 v3
        /*
        function render(data){
            // bind data
            let circles = svg.selectAll("circle").data(data);

            // enter
            circles.enter().append("circle")
                .attr("r", 10);

            // update
            circles
                .attr("cx", function(d){ return d.x; })
                .attr("cy", function(d){ return d.y; });

            // exit
            circles.exit().remove();
        }
        */

        // below function will work with d3 v6
        function render(data){
            // bind data
            let circles = svg.selectAll("circle").data(data);

            circles.enter().append("circle")
                .attr("r", 10)
                .attr("cx", function(d){ return d.x; })
                .attr("cy", function(d){ return d.y; })
                .attr("fill", function(d){ return d.c; });

            // exit
            circles.exit().remove();
        }

        var myArrayOfObj = [
            { x: 100, y: 100, c: 'red' },
            { x: 130, y: 120, c: 'blue' },
            { x: 80, y: 180, c: 'green' },
            { x: 180, y: 80, c: 'pink' },
            { x: 180, y: 40, c: 'gray' }
        ]

        render(myArrayOfObj);
    </script>
</body>
</html>